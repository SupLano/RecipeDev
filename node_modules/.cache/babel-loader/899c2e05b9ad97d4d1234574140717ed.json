{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nfunction useFetch() {\n  _s();\n  const [reciept, setReciept] = useState({\n    'data': null,\n    'loading': true\n  });\n  const savedRecipes = localStorage.getItem(\"Recipes\");\n  useEffect(url => {\n    if (savedRecipes) {\n      setReciept({\n        'data': JSON.parse(savedRecipes),\n        'loading': false\n      });\n    } else {\n      let response = fetch(url);\n      let result = response.json().then(res => {\n        if (res.status === 'failure') {\n          setReciept({\n            'data': 'failure'\n          });\n        } else {\n          localStorage.setItem(\"Recipes\", JSON.stringify(res.recipes));\n          setReciept({\n            'data': res.recipes,\n            'laoding': false\n          });\n        }\n      }).catch(() => {\n        console.log(\"error\");\n      });\n    }\n  }, []);\n  return reciept;\n}\n_s(useFetch, \"kTcyT6UT5EI4N3cnLUEg2oPfyLg=\");\nexport default useFetch;","map":{"version":3,"names":["useState","useEffect","useFetch","reciept","setReciept","savedRecipes","localStorage","getItem","url","JSON","parse","response","fetch","result","json","then","res","status","setItem","stringify","recipes","catch","console","log"],"sources":["/Users/user/Downloads/Projects/html,css,javascript/personal/-react/fragments/src/Utils/Fetch.js"],"sourcesContent":["import { useState, useEffect } from 'react'\n\nfunction useFetch() {\n  const [reciept, setReciept] = useState({'data' : null, 'loading' : true})\n  const savedRecipes = localStorage.getItem(\"Recipes\");\n\n  useEffect( (url) =>  {       \n           \n                        if (savedRecipes) {\n                            setReciept({'data':JSON.parse(savedRecipes), 'loading': false})\n                            }\n\n                        else \n                        {\n                            let response =  fetch(url);\n                            let result = response.json().then( res => {\n                                if (res.status === 'failure'){\n                                    setReciept({'data' : 'failure'})\n                                }\n                                else{\n                                    localStorage.setItem(\"Recipes\", JSON.stringify(res.recipes))\n                                    setReciept({'data':res.recipes, 'laoding' : false })\n                                    }\n                            } )\n                            .catch(() => {\n                                console.log(\"error\")\n                            })\n                        }\n    \n  }, [])\n\n  return reciept\n\n}\n\nexport default useFetch"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAE3C,SAASC,QAAQ,GAAG;EAAA;EAClB,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGJ,QAAQ,CAAC;IAAC,MAAM,EAAG,IAAI;IAAE,SAAS,EAAG;EAAI,CAAC,CAAC;EACzE,MAAMK,YAAY,GAAGC,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC;EAEpDN,SAAS,CAAGO,GAAG,IAAM;IAEC,IAAIH,YAAY,EAAE;MACdD,UAAU,CAAC;QAAC,MAAM,EAACK,IAAI,CAACC,KAAK,CAACL,YAAY,CAAC;QAAE,SAAS,EAAE;MAAK,CAAC,CAAC;IAC/D,CAAC,MAGL;MACI,IAAIM,QAAQ,GAAIC,KAAK,CAACJ,GAAG,CAAC;MAC1B,IAAIK,MAAM,GAAGF,QAAQ,CAACG,IAAI,EAAE,CAACC,IAAI,CAAEC,GAAG,IAAI;QACtC,IAAIA,GAAG,CAACC,MAAM,KAAK,SAAS,EAAC;UACzBb,UAAU,CAAC;YAAC,MAAM,EAAG;UAAS,CAAC,CAAC;QACpC,CAAC,MACG;UACAE,YAAY,CAACY,OAAO,CAAC,SAAS,EAAET,IAAI,CAACU,SAAS,CAACH,GAAG,CAACI,OAAO,CAAC,CAAC;UAC5DhB,UAAU,CAAC;YAAC,MAAM,EAACY,GAAG,CAACI,OAAO;YAAE,SAAS,EAAG;UAAM,CAAC,CAAC;QACpD;MACR,CAAC,CAAE,CACFC,KAAK,CAAC,MAAM;QACTC,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;MACxB,CAAC,CAAC;IACN;EAEtB,CAAC,EAAE,EAAE,CAAC;EAEN,OAAOpB,OAAO;AAEhB;AAAC,GA/BQD,QAAQ;AAiCjB,eAAeA,QAAQ"},"metadata":{},"sourceType":"module"}